<!DOCTYPE html>        
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Weather App</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body { 
    min-height: 100vh;
    background: linear-gradient(135deg, #89f7fe, #66a6ff);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Segoe UI', sans-serif;
  }
  .card { 
    max-width: 500px; 
    width: 100%;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  }
  #result img {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: radial-gradient(circle at top left, #ffffff, #dbe9ff);
    padding: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    margin: 10px 0;
    transition: transform 0.3s ease;
  }
  #result img:hover {
    transform: scale(1.05);
  }
</style>
</head>
<body>
<div class="card p-4 shadow-lg">
  <h3 class="text-center mb-3">ðŸŒ¤ Current Weather Report</h3>
  <div class="input-group mb-3">
    <input id="city" type="text" class="form-control" placeholder="Enter city">
    <button id="getWeather" class="btn btn-primary">Search</button>
  </div>
  <div id="result" style="display:none;">
    <div class="text-center">
      <h4 id="cityName" class="fw-bold"></h4>
      <img id="icon" alt="">
      <h2 id="temp" class="text-primary fw-bold"></h2>
      <p id="desc" class="text-muted text-capitalize"></p>
    </div>
    <table class="table table-bordered mt-3 table-hover">
      <thead class="table-light">
        <tr><th>Name</th><th>Value</th></tr>
      </thead>
      <tbody id="weatherData"></tbody>
    </table>
  </div>
</div>

<script>
const apiKey = "c110e9186b72f3442261d370ee5e0602";

function formatTime(unix, timezone) {
  return new Date((unix + timezone) * 1000).toUTCString().split(" ")[4]; 
}

document.getElementById("getWeather").addEventListener("click", () => {
  const city = document.getElementById("city").value.trim();
  if(!city) return alert("Enter a city");

  fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`)
    .then(res => res.json())
    .then(data => {
      if(data.cod !== 200) return alert(data.message);

      document.getElementById("result").style.display = "block";
      document.getElementById("cityName").textContent = data.name + ", " + data.sys.country;
      document.getElementById("temp").textContent = Math.round(data.main.temp) + "Â°C";
      document.getElementById("desc").textContent = data.weather[0].description;
      document.getElementById("icon").src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;

      const weatherArray = [
        { name: "Longitude", value: data.coord.lon },
        { name: "Latitude", value: data.coord.lat },
        { name: "Temperature", value: Math.round(data.main.temp) + "Â°C" },
        { name: "Feels Like", value: Math.round(data.main.feels_like) + "Â°C" },
        { name: "Min Temp", value: Math.round((data.main.temp_min * 9/5) + 32) + "Â°F" },
        { name: "Max Temp", value: Math.round((data.main.temp_max * 9/5) + 32) + "Â°F" },
        { name: "Pressure", value: data.main.pressure + " hPa" },
        { name: "Humidity", value: data.main.humidity + "%" },
        { name: "Sea Level", value: (data.main.sea_level ? data.main.sea_level + " hPa" : "N/A") },
        { name: "Ground Level", value: (data.main.grnd_level ? data.main.grnd_level + " hPa" : "N/A") },
        { name: "Visibility", value: data.visibility + " m" },
        { name: "Wind Speed", value: data.wind.speed + " m/s" },
        { name: "Wind Direction", value: data.wind.deg + "Â°" },
        { name: "Wind Gust", value: (data.wind.gust ? data.wind.gust + " m/s" : "N/A") },
        { name: "Cloudiness", value: data.clouds.all + "%" },
        { name: "Sunrise", value: new Date((data.sys.sunrise + data.timezone) * 1000).toLocaleTimeString('en-US') },
        { name: "Sunset", value: new Date((data.sys.sunset + data.timezone) * 1000).toLocaleTimeString('en-US') },
        { name: "Timezone", value: (data.timezone/3600) + " hours from UTC" },
        { name: "City ID", value: data.id },
        { name: "Base", value: data.base }
            ];

            const tbody = document.getElementById("weatherData");
            tbody.innerHTML = "";
            weatherArray.forEach(item => {
        tbody.innerHTML += `<tr><td>${item.name}</td><td>${item.value}</td></tr>`;
            });
          })
          .catch(() => alert("Error fetching weather"));
      });
</script>
</body>
</html>
